<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<div>
    <div>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Inventore quisquam eos ratione officiis amet, quos doloribus asperiores vel a ipsam saepe, voluptatem dicta facilis maxime iusto enim eum, optio explicabo soluta corrupti accusantium alias
        voluptas cupiditate. Qui illum sint consequuntur! Corrupti saepe vel incidunt rem nulla repudiandae quam architecto culpa aliquam natus dicta eius dolore fuga, magni ipsam aperiam odit. Sint, illum iste. Blanditiis quis, voluptatum fuga fugiat
        consequatur molestias mollitia voluptatem autem modi praesentium rem nobis perferendis. Fuga ea eveniet similique repellendus consectetur est eum rem corrupti, nobis, magni cum. Fugit, nemo quos distinctio sint placeat repellat rerum fuga quod
        cumque eaque praesentium nulla velit veritatis odio laudantium debitis quam illo quis fugiat omnis delectus. Quas, eum. Eius dicta obcaecati natus, laudantium placeat perferendis aliquid alias quo accusantium expedita voluptatibus excepturi maiores
        dolore veniam modi beatae pariatur sed eveniet optio est at id! Exercitationem fugiat atque necessitatibus facere asperiores doloribus eum! Cupiditate velit reprehenderit eaque corrupti quisquam repellendus accusamus beatae architecto non neque
        ullam tempore quibusdam animi voluptatum, iusto blanditiis possimus delectus dolorum perspiciatis similique! Odio culpa sed unde, minima iusto amet minus aliquam quo maiores. Libero voluptatem quas excepturi quia sequi tempora sint fugit repudiandae
        voluptas distinctio est, quidem reiciendis quos deleniti suscipit ex, voluptates aut nulla, odio cupiditate harum accusantium. Nihil quasi impedit consequatur assumenda possimus dicta tempore, odit iusto architecto dolore facere fugiat cumque
        perspiciatis saepe ratione rem ut quisquam odio officia fugit voluptatum nam ullam soluta. Eaque sunt dolor atque quisquam quibusdam dignissimos, tempore autem veritatis, dicta ratione natus odio vel repellendus! Culpa ducimus expedita numquam
        nostrum? Iure facere minima earum soluta eligendi enim impedit illum doloribus labore, voluptatum numquam deleniti fuga dignissimos laboriosam repellat quaerat incidunt excepturi. Deserunt consectetur reiciendis, dolore officiis suscipit aspernatur
        quasi ab? Unde, dolores! Explicabo dignissimos laudantium placeat amet ea minima aspernatur suscipit veniam, ratione, fuga a non iure fugiat et porro voluptas harum doloribus beatae quas exercitationem soluta accusamus ipsa. Eos ipsum aperiam
        quasi! Sint nemo ab, iusto cumque eveniet enim modi repellendus numquam nam provident id qui. Perspiciatis itaque vitae ratione aliquid assumenda quisquam quibusdam beatae ex laudantium ea iste nihil molestiae neque quae, unde eligendi perferendis
        veritatis quod impedit! Molestiae, a unde. Eligendi, voluptates nobis? Doloremque aspernatur provident quas incidunt nostrum in at perferendis quasi, minima maxime ipsam dolores corporis suscipit perspiciatis eius delectus, commodi doloribus autem,
        nulla asperiores assumenda? Deserunt animi obcaecati aliquam repellendus officiis tenetur omnis, doloremque nam nemo quam quisquam eaque natus totam ex perferendis maxime at itaque commodi ipsum vero praesentium laboriosam enim iure. Voluptatem
        aperiam ea modi placeat explicabo non, dignissimos expedita vel rem porro ratione doloremque repellendus alias quas sunt aliquam obcaecati praesentium architecto deserunt! Ipsam quod placeat et provident quisquam, doloremque dolorem eum earum
        ea nihil voluptatem recusandae necessitatibus modi, magnam adipisci. Officia autem adipisci nostrum libero. Reprehenderit, illo veniam doloremque a laborum, natus hic iusto non vel quasi corrupti excepturi consequatur aliquid minima dolor suscipit
        commodi porro voluptatem nihil debitis aperiam molestiae, atque velit! Facere alias officia saepe esse tempora, molestiae perspiciatis iste voluptatem ducimus dignissimos consequuntur adipisci, ipsam unde magnam exercitationem possimus laborum
        quasi reiciendis maiores doloribus ratione odio nemo sint? Facere inventore dignissimos praesentium quos expedita asperiores consequuntur illo itaque doloremque excepturi, nulla est ab? Nobis ad aspernatur nam earum. Rerum odio repellat vitae
        delectus voluptatum nesciunt, debitis amet sapiente natus doloremque quam, cumque magnam, ut unde repudiandae minus. Optio voluptate tenetur commodi nobis similique assumenda nostrum vero veniam doloremque. Neque optio consequuntur, et eum doloremque
        odit similique officiis nihil possimus ab excepturi voluptas debitis quam fuga quidem. Magni quas nulla at iste ea temporibus aspernatur ullam aperiam accusamus non aut eaque quod, maxime veritatis ipsam a error corporis autem cupiditate, inventore
        dignissimos. Animi expedita cumque ullam dignissimos voluptates consequatur nam fugiat quas perspiciatis nihil nostrum deleniti sint hic praesentium ut dicta voluptatem officia natus odio, omnis distinctio eius. Ratione voluptas id voluptate,
        quisquam assumenda cum necessitatibus ipsam. Eos tempore cupiditate ratione labore dolore quibusdam aut ut suscipit architecto, obcaecati tempora consequuntur officiis fugiat! Natus commodi alias illum esse quaerat cum exercitationem est, aut
        dolorum quos nemo officiis error quisquam, in amet voluptatem a vero non. Sapiente qui atque illo perspiciatis est vitae ad, nostrum iusto tempore alias eum, dolores molestias numquam velit eaque, repellendus commodi quas saepe nulla sit accusantium
        enim quos aspernatur. Obcaecati eaque reiciendis libero. Architecto voluptatem veniam voluptas deleniti culpa, sed accusamus odio eum, officia quasi repudiandae velit! Laboriosam aliquam earum odio maxime aut. Voluptatem iusto corporis illum sequi
        sapiente natus quae quasi est, consequuntur assumenda reprehenderit asperiores blanditiis debitis repellendus, officia accusamus veniam optio itaque aut pariatur dolor? Eligendi quos distinctio tempore cumque iure soluta ut, eos explicabo animi
        ratione quod facilis necessitatibus ipsum optio nobis est quaerat dicta aliquam similique non id sunt quis incidunt! Esse natus ad quasi tenetur, facilis praesentium fuga eaque quidem vitae expedita cupiditate voluptate voluptates, hic velit ducimus
        repellat omnis rem? Recusandae libero sapiente alias ad architecto modi similique ea dignissimos necessitatibus incidunt. Sint consequatur earum, praesentium magnam vitae necessitatibus, quia maiores esse a adipisci recusandae commodi, tempora
        voluptate sed dolores accusantium perferendis veritatis iusto rerum sapiente illum. Consequatur natus voluptatem error nesciunt distinctio consectetur, placeat quos, nemo aliquam in omnis, deleniti doloribus saepe aliquid. Obcaecati reprehenderit
        aperiam quod animi distinctio fugit magni, delectus est dignissimos id sed, adipisci deleniti, libero sit voluptas! Accusantium beatae explicabo exercitationem facilis non quos nemo inventore ipsa, libero consectetur, sunt, sapiente voluptates
        aliquam cumque! Cumque repudiandae deleniti ex consequatur, adipisci ea magni assumenda maiores hic, veniam, eius aliquid possimus? Fugiat hic, ullam nam quibusdam eos beatae voluptate nulla enim consectetur. Vel illum necessitatibus delectus
        ad cumque, beatae consectetur amet illo possimus, voluptates in soluta obcaecati odit earum aliquid, quos ullam nisi fuga aperiam. Et a quo fugiat incidunt aspernatur assumenda quia veritatis consectetur repellat placeat dicta, nisi voluptates
        asperiores corporis praesentium quam obcaecati officia at! Quia ab temporibus delectus a quam, libero dicta sapiente harum. Eius totam maiores ex laudantium ducimus quod impedit quam odio. Quibusdam maxime blanditiis culpa sapiente!</div>

    <div id="myDiv">
        <div id="info"></div>
        <svg viewbox="0 0 200 200">
            <line id="myLine" 
                    x1="50%" 
                    y1="0%" 
                    x2="50%" 
                    y2="10%"
                    style="stroke:rgb(255,0,0);stroke-width:10"
            />    
        </svg>
    </div>

    <div>Lorem, ipsum dolor sit amet consectetur adipisicing elit. A pariatur fuga tempore! Dolore, quisquam blanditiis! Nulla ad numquam amet? Quisquam esse quos molestias ipsum iusto voluptatibus autem similique recusandae, ipsa voluptatum corrupti possimus
        delectus accusamus unde rem deserunt in reiciendis error illum, omnis enim tenetur? At perspiciatis neque repellendus dolores deleniti debitis dolor ipsum porro, dignissimos distinctio? Doloremque blanditiis modi laborum veritatis porro quia eius
        labore ullam animi provident. Voluptatum facilis, a magnam debitis architecto dignissimos, doloribus esse, sapiente odio aliquam qui enim. Ratione doloribus, quod voluptatum, natus exercitationem, odio accusamus illo deserunt dicta fugit itaque
        facere aperiam temporibus ipsa dolorum dolore ex tenetur eos dolores ipsum nesciunt facilis? Qui, consequuntur, debitis consequatur quas dolor veritatis hic neque veniam natus quidem iure labore aliquam aut praesentium. Veniam molestiae odio enim
        ipsam velit, cupiditate excepturi exercitationem mollitia nihil amet rerum eos nulla necessitatibus, nisi alias quis doloribus hic molestias aspernatur! Enim fugiat possimus, doloribus vitae, exercitationem animi cupiditate ducimus soluta harum
        at eveniet a, quibusdam repellat autem libero temporibus dolor odit eaque. Id molestias, perspiciatis assumenda minima, aliquid tempore eligendi unde quia neque laborum vitae placeat architecto. Laudantium odio eum, possimus earum laborum a fugiat
        vitae pariatur dolores quos perferendis eius incidunt ab quam nobis cum deleniti ipsa? Aliquam, ea eaque. Modi, aspernatur exercitationem aut doloremque eveniet minus eos sit dolorem maiores quis dolor optio placeat numquam autem! Maxime iste,
        quibusdam harum officiis illo, magnam sit autem aperiam odit nam consequuntur quaerat? Mollitia dolore sunt aliquid sed aliquam ad accusantium modi. Reiciendis saepe eligendi obcaecati asperiores natus, vel voluptatem porro dicta perferendis quam
        placeat ab libero non quisquam eos maiores amet necessitatibus quod id fugit esse nihil quae? Unde dicta repellendus aut quia nostrum aperiam cupiditate hic ipsam, aspernatur quo quod doloribus dignissimos tenetur sequi excepturi libero nisi.
        Omnis cupiditate deserunt architecto totam cum sapiente quos consequuntur, enim voluptate porro itaque natus. Nam necessitatibus, voluptatem consectetur eius, ipsam molestiae veritatis sint molestias sit placeat similique quaerat commodi temporibus
        officiis odit quasi facilis, nostrum minus vero. Consequuntur corporis natus facilis repudiandae praesentium nam assumenda sint doloremque voluptatibus? Ad explicabo temporibus sequi doloribus ipsam quod dignissimos neque, tempora quia, dolore
        alias maxime, molestiae perspiciatis magnam ipsum quaerat accusamus cum accusantium? Vero odit totam tempore consequatur repellat, harum hic eos cumque, voluptas enim ab rem eaque? Tempore aliquam velit architecto saepe debitis reiciendis voluptas
        aut inventore magnam eius, rerum perferendis error soluta deleniti esse iusto. Officia itaque error officiis id minima reprehenderit, porro natus eius deserunt modi eos voluptatibus? Ad libero illum omnis nostrum impedit molestiae, ut amet vitae,
        autem sed molestias! Aliquid, eius incidunt architecto nisi, pariatur ea recusandae beatae nulla vero distinctio natus, possimus repudiandae provident earum dolorum asperiores eligendi quos sed odio consectetur? Iure laborum explicabo saepe sequi
        quaerat optio ipsa, inventore hic maxime libero illum dolorum esse doloremque quisquam labore amet maiores nesciunt similique eum excepturi eius debitis eaque. Perferendis voluptatibus quia deleniti! Suscipit praesentium dolore, ex veniam necessitatibus
        quas excepturi quidem dignissimos enim labore dicta voluptatum reiciendis voluptas error consequuntur quia eos ipsam consectetur maiores libero obcaecati molestiae exercitationem ullam assumenda! Quaerat repellat deserunt provident vero nemo amet
        quisquam error! Rem ratione repellat numquam id iusto, tenetur accusantium dolorum fugiat recusandae ducimus dicta, commodi quas iure illum cum nihil saepe totam doloribus aspernatur quaerat corporis? Deleniti voluptate modi voluptates quo nostrum
        voluptatem exercitationem nobis. Repellat adipisci nisi omnis error vero ea explicabo exercitationem molestiae libero, quia cupiditate nam dolores alias accusantium animi doloremque aspernatur. Sunt, explicabo. Repellat quos mollitia expedita
        necessitatibus hic alias nulla doloribus commodi officia eius cum accusamus natus, totam amet eum suscipit sequi temporibus vero quisquam unde. Quisquam obcaecati harum tempora voluptatum temporibus, repellendus illo reiciendis iure aperiam ab
        sint? Sunt illo laborum alias eius et deleniti. Voluptate eaque ducimus dolore adipisci illum soluta dicta quis, dignissimos, illo fugiat temporibus tempore hic dolorum quaerat laboriosam accusamus provident maiores repudiandae aspernatur fugit.
        Eligendi inventore obcaecati quas numquam, perspiciatis fugit! Debitis autem perspiciatis provident ad nihil modi officia itaque est. Quo cum sed impedit quisquam, quas incidunt officia similique voluptatibus officiis autem numquam. Error cumque
        doloribus necessitatibus. Voluptas, possimus labore! Eius maxime ipsam alias illum, esse debitis accusamus placeat explicabo ut ullam odit, reprehenderit ad deserunt quam, ipsa deleniti tempora? Fugiat obcaecati neque voluptas iusto quasi cum
        ab asperiores accusamus, amet illum suscipit ratione laudantium, provident quo consequatur architecto optio magni nam ad sint necessitatibus ullam minima aut vel. Error magnam commodi itaque nobis. Nisi amet delectus dolorum sapiente neque minima
        itaque mollitia fuga illum doloremque nobis reprehenderit corrupti ipsa, architecto esse voluptatem! Voluptatem voluptates, dolorem veritatis officiis optio enim, at officia est, consequatur delectus eligendi tempora molestias minima facere? Error
        aliquam beatae tempore corporis ducimus vel minus tenetur consectetur sapiente pariatur culpa laudantium, doloribus vero, accusantium cumque aut quasi quisquam eius nostrum, numquam dignissimos non? Suscipit nihil vel in et tempore id beatae voluptate,
        temporibus a velit modi illo accusamus ullam similique dignissimos fugit libero aspernatur ut maxime ab reiciendis natus sed! Voluptatibus ducimus deleniti explicabo porro fugiat, id cupiditate neque quibusdam similique delectus. Aliquam veniam
        nostrum ex animi illum consequatur provident, harum cumque veritatis maiores nesciunt obcaecati cum natus. Nulla esse corporis quae ducimus laboriosam quis dignissimos tempora mollitia vel magnam, ipsum modi! Pariatur eaque, commodi dolorem cum
        delectus laboriosam. Corporis, sapiente perspiciatis accusamus porro nulla neque amet ab sunt incidunt nam nemo laborum natus voluptate molestias? Provident nesciunt minus enim possimus? Ut, impedit nostrum sequi libero rerum consequatur deserunt
        dolores quos porro ratione quod, consectetur sed nihil. Dolor dolores, voluptatibus architecto, explicabo rerum obcaecati, nihil unde a dolorem error doloremque saepe sequi velit maxime hic magnam accusamus enim dignissimos iusto. Eveniet accusantium
        quibusdam, necessitatibus obcaecati ipsa, officiis sint facere pariatur quo minima incidunt mollitia qui repellendus delectus nemo accusamus numquam quia ut sapiente laborum commodi recusandae similique. Perferendis autem cum facere. Perferendis
        natus harum quis molestiae aliquid reprehenderit architecto rerum ratione debitis impedit dolorum quia, alias, deserunt perspiciatis obcaecati doloribus eum. Iste eos, excepturi optio deleniti odio tenetur vel, tempore dolor aperiam explicabo
        dolores vero!</div>

    <script>
        let animDiv = document.getElementById('myDiv');
        const line = document.getElementById("myLine");
        const info = document.getElementById("info");
        var linearY1 = 0;
        var linearY2 = 0;

        var min = 10;
        var max = 60;
        var lineStart = 40;
        var total = 50;
        var distance = 10;
        var increment = 2;
        var lineY2 = 0;
        var test = 5;
        
        document.onscroll = function() {
            //var pos = getVerticalScrollPercentage(document.body);
            let rect = animDiv.getBoundingClientRect();
            let startPercentage = rect.top / window.innerHeight;
            let endPercentage = rect.bottom / window.innerHeight;

            info.innerHTML = `
                height = ${window.innerHeight}<br/>
                top = ${rect.top}<br/>
                bottom = ${rect.bottom}<br/>
                start = ${startPercentage}<br/>
                end = ${endPercentage}<br/>
                `;

            linearY1 = 150 - Math.floor(120 * endPercentage);
            linearY2 = 80 - Math.floor(100 * startPercentage);
            updateLine();
        }

        function updateLine() {
            line.setAttribute("y1", linearY1 + "%");
            line.setAttribute("y2", linearY2 + "%");
        }
    </script>
</body>
</html>